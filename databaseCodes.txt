CREATE TABLE `users` (
  `userId` int(11) NOT NULL AUTO_INCREMENT COMMENT 'to identify users',
  `userName` varchar(255) NOT NULL COMMENT 'user name to login',
  `password` varchar(255) CHARACTER SET utf8mb4 NOT NULL COMMENT 'password to login',
  `email` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
  `fullname` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
  `date` date NOT NULL DEFAULT current_timestamp() COMMENT 'date when user join',
  `groupId` int(11) NOT NULL DEFAULT 0 COMMENT 'to identifiy members from admins',
  `trustStatus` int(11) NOT NULL DEFAULT 0 COMMENT 'seler rank',
  `regStatus` int(11) NOT NULL DEFAULT 0 COMMENT 'user apporovel',
  `image` varchar(255) NOT NULL,
  PRIMARY KEY (`userId`)
) ENGINE=InnoDB AUTO_INCREMENT=142 DEFAULT CHARSET=utf8 ; 

CREATE TABLE `categores` (
  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'The Id Of The Categorey',
  `name` varchar(255) NOT NULL COMMENT 'The Category ame',
  `description` text NOT NULL,
  `ordering` int(11) DEFAULT NULL,
  `visibilty` tinyint(4) NOT NULL DEFAULT 0 COMMENT 'zero is visible \r\none is hidden',
  `allowComment` tinyint(4) NOT NULL DEFAULT 0,
  `allowAds` tinyint(4) NOT NULL DEFAULT 0,
  `parent` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `name` (`name`)
) ENGINE=InnoDB AUTO_INCREMENT=41 DEFAULT CHARSET=utf8 ; 

CREATE TABLE `items` (
  `item_id` int(11) NOT NULL AUTO_INCREMENT,
  `item_name` varchar(255) NOT NULL,
  `item_desc` text NOT NULL,
  `price` varchar(255) NOT NULL,
  `add_date` date NOT NULL,
  `country` varchar(255) NOT NULL,
  `image` varchar(255) NOT NULL,
  `status` varchar(255) NOT NULL,
  `rating` smallint(6) NOT NULL,
  `apporove` tinyint(4) NOT NULL DEFAULT 0,
  `cat_id` int(11) NOT NULL,
  `member_id` int(11) NOT NULL,
  `item_tags` varchar(255) NOT NULL,
  PRIMARY KEY (`item_id`),
  KEY `users_one` (`member_id`),
  KEY `cat_one` (`cat_id`),
  CONSTRAINT `cat_one` FOREIGN KEY (`cat_id`) REFERENCES `categores` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `users_one` FOREIGN KEY (`member_id`) REFERENCES `users` (`userId`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=101 DEFAULT CHARSET=utf8 ; 

CREATE TABLE `comments` (
  `c_id` int(11) NOT NULL AUTO_INCREMENT,
  `comment` text NOT NULL,
  `c_status` tinyint(4) NOT NULL DEFAULT 0,
  `c_date` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `item_id` int(11) NOT NULL,
  `user_id` int(11) NOT NULL,
  PRIMARY KEY (`c_id`),
  KEY `comments` (`item_id`),
  KEY `comments2` (`user_id`),
  CONSTRAINT `comments` FOREIGN KEY (`item_id`) REFERENCES `items` (`item_id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `comments2` FOREIGN KEY (`user_id`) REFERENCES `users` (`userId`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=60 DEFAULT CHARSET=utf8 ; 